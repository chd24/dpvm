/* p2p module, test example: save and broadcast object; T16.968-T19.705; $DVS:time$ */

#include "../../../lib/stdlib/stdlib.dpvmake"
#include "p2p_io.dpvmake"

(const any data, const any objs) -> () callback {
    char m[];
    strcat(m, "\r\nObject ");
    printobjname(m, objs.l[0]);
    strcat(m, " saved.\r\n");
    output("", "", m);
    return;
}

(const any obj) -> () {
    any objs;
    objs.lpush(obj);
    msave_p2p(callback, "", objs);
    return;
}
